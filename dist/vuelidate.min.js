!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vuelidate=e():t.vuelidate=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="/",e(0)}([function(t,e,r){"use strict";function n(t){return("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function i(t,e){var r=new t({data:{pending:!0,value:!1}});return e.then(function(t){r.pending=!1,r.value=t},function(t){throw r.pending=!1,r.value=!1,t}),r.__isVuelidateAsyncVm=!0,r}function o(t){this.dirty=t;var e=this.proxy,r=t?"$touch":"$reset";this.nestedKeys.forEach(function(t){e[t][r]()})}function u(t){if($)return $;for(var e=t.constructor;e.super;)e=e.super;return $=e,e}function a(t){t.mixin(g)}Object.defineProperty(e,"__esModule",{value:!0}),e.withParams=e.validationMixin=e.Vuelidate=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l=r(2),c=function(t,e,r){return t.reduce(function(t,n){return t[r?r(n):n]=e(n),t},{})},d=function(t,e,r,n){if("function"==typeof r)return r.call(t,e,n);r=Array.isArray(r)?r:r.split(".");for(var i=0;i<r.length;i++){if(!e||"object"!=typeof e)return n;e=e[r[i]]}return"undefined"==typeof e?n:e},f={$invalid:function(){var t=this.proxy;return this.nestedKeys.some(function(e){return t[e].$invalid})||this.ruleKeys.some(function(e){return!t[e]})},$dirty:function(){if(this.dirty)return!0;if(0===this.nestedKeys.length)return!1;var t=this.proxy;return this.nestedKeys.every(function(e){return t[e].$dirty})},$error:function(){return this.$dirty&&!this.$pending&&this.$invalid},$pending:function(){var t=this,e=this.proxy;return this.nestedKeys.some(function(t){return e[t].$pending})||this.ruleKeys.some(function(e){return t.getRef(e).$pending})},$params:function(){var t=this,e=this.validations;return s({},c(this.nestedKeys,function(t){return e[t]&&e[t].$params||null}),c(this.ruleKeys,function(e){return t.getRef(e).$params}))}},h={$touch:function(){o.call(this,!0)},$reset:function(){o.call(this,!1)},$flattenParams:function(){var t=this.proxy,e=[];for(var r in this.$params)if(this.isNested(r)){for(var n=t[r].$flattenParams(),i=0;i<n.length;i++)n[i].path.unshift(r);e=e.concat(n)}else e.push({path:[],name:r,params:this.$params[r]});return e}},p=Object.keys(f),v=Object.keys(h),y=null,m=function(t){if(y)return y;var e=t.extend({props:["rule","model","parentModel","rootModel"],methods:{runRule:function(e){(0,l.pushParams)();var r=this.rule.call(this.rootModel,this.model,e),o=n(r)?i(t,r):r,u=(0,l.popParams)(),a=u&&u.$sub?u.$sub.length>1?u:u.$sub[0]:null;return{output:o,params:a}}},computed:{run:function(){var t=this,e=this.parentModel,r=Array.isArray(e)&&e.__ob__;if(r){var n=e.__ob__.dep;n.depend();var i=n.constructor.target;if(!this._indirectWatcher){var o=i.constructor;this._indirectWatcher=new o(this.rootModel,function(){return t.runRule(e)},null,{lazy:!0})}if(!this._indirectWatcher.dirty&&this._lastModel===this.model)return this._indirectWatcher.depend(),i.value;this._lastModel=this.model,this._indirectWatcher.evaluate(),this._indirectWatcher.depend()}return this._indirectWatcher?this._indirectWatcher.value:this.runRule(e)},$params:function(){return this.run.params},proxy:function(){var t=this.run.output;return t.__isVuelidateAsyncVm?!!t.value:!!t},$pending:function(){var t=this.run.output;return!!t.__isVuelidateAsyncVm&&t.pending}},render:function(t){return null}}),r=t.extend({data:function(){return{dirty:!1}},mounted:function(){this._watcher.lazy=!0},props:["validations","model","prop","parentModel","rootModel"],methods:s({},h,{getRef:function(t){return this._watcher.depend(),this._watcher.dirty&&this._watcher.evaluate(),this.$refs[t]},isNested:function(t){return"function"!=typeof this.validations[t]}}),computed:s({},f,{nestedKeys:function(){return this.keys.filter(this.isNested)},ruleKeys:function(){var t=this;return this.keys.filter(function(e){return!t.isNested(e)})},keys:function(){return Object.keys(this.validations)},proxy:function(){var t=this,e=c(this.keys,function(e){return{enumerable:!0,configurable:!1,get:function(){return t.getRef(e).proxy}}}),r=c(p,function(e){return{enumerable:!0,configurable:!1,get:function(){return t[e]}}}),n=c(v,function(e){return{enumerable:!1,configurable:!1,get:function(){return t[e]}}});return Object.defineProperties({},s({},e,r,n))}}),render:function(t){var e=this;return t("div",[this.nestedKeys.map(function(r){return a(t,e,r)}),this.ruleKeys.map(function(r){return $(t,e,r)})])}}),o=r.extend({methods:{isNested:function(t){return"undefined"!=typeof this.validations[t]()},getRef:function(t){var e=this;return{get proxy(){return e.validations[t]()||!1}}}},render:function(){return null}}),u=r.extend({computed:{keys:function(){return Object.keys(this.model)},tracker:function(){var t=this,e=this.validations.$trackBy;return e?function(r){return""+d(t.rootModel,t.model[r],e)}:function(t){return""+t}}},methods:{isNested:function(){return!0},getRef:function(t){return this._watcher.depend(),this._watcher.dirty&&this._watcher.evaluate(),this.$refs[this.tracker(t)]}},render:function(t){return t("div",m(t,this))}}),a=function(t,e,n){if("$params"===n)return null;if("$each"===n)return t(u,{key:n,ref:n,attrs:{validations:e.validations[n],parentModel:e.parentModel,prop:n,model:e.model,rootModel:e.rootModel}});var i=e.validations[n];if(Array.isArray(i)){var a=e.rootModel,s=c(i,function(t){return function(){return d(a,a.$v,t)}},function(t){return Array.isArray(t)?t.join("."):t});return t(o,{key:n,ref:n,attrs:{validations:s,parentModel:null,prop:n,model:null,rootModel:a}})}return t(r,{key:n,ref:n,attrs:{validations:i,parentModel:e.model,prop:n,model:e.model[n],rootModel:e.rootModel}})},m=function(t,e){var n=e.validations,i=s({},n);delete i.$trackBy;var o={};return e.keys.map(function(n){var u=e.tracker(n);return o.hasOwnProperty(u)?null:(o[u]=!0,t(r,{key:u,ref:u,attrs:{validations:i,prop:n,parentModel:e.model,model:e.model[n],rootModel:e.rootModel}}))})},$=function(t,r,n){return t(e,{key:n,ref:n,attrs:{rule:r.validations[n],parentModel:r.parentModel,model:r.model,rootModel:r.rootModel}})};return y=r},$=null,_=function(t,e){var r=u(t),n=m(r),i=new r({render:function(r){var i="function"==typeof e?e.call(t):e;return r(n,{ref:"$v",attrs:{validations:i,parentModel:null,prop:"$v",model:t,rootModel:t}})}});return i.$mount(),i},g={beforeCreate:function(){var t=this,e=this.$options,r=e.validations;r&&(e.computed||(e.computed={}),e.computed.$v=function(){return t._vuelidate.$refs.$v.proxy})},created:function(){var t=this.$options.validations;t&&(this._vuelidate=_(this,t))},beforeDestroy:function(){this._vuelidate&&(this._vuelidate.$destroy(),this._vuelidate=null)}};e.Vuelidate=a,e.validationMixin=g,e.withParams=l.withParams,e.default=a},,function(t,e){"use strict";function r(){null!==c&&l.push(c),e.target=c={}}function n(){var t=c,r=e.target=c=l.pop()||null;return r&&(Array.isArray(r.$sub)||(r.$sub=[]),r.$sub.push(t)),t}function i(t){if("object"!=typeof t||Array.isArray(t))throw new Error("params must be an object");e.target=c=s({},c,t)}function o(t,e){return u(function(r){return function(){r(t);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.apply(this,i)}})}function u(t){var e=t(i);return function(){r();try{for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.apply(this,i)}finally{n()}}}function a(t,e){return"object"==typeof t&&void 0!==e?o(t,e):u(t)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.pushParams=r,e.popParams=n,e.withParams=a;var l=[],c=e.target=null;e._setTarget=function(t){e.target=c=t}}])});